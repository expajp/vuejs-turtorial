# Enter/Leave とトランジション一覧

## 概要
* Vueは、DOMからアイテムが追加・更新・削除されたときにトランジション効果を施す機能を複数提供している
* 具体的には以下の通り
    * 自動的にCSSアニメーションを適用
    * Animate.cssのようなサードパーティ製CSSライブラリとの連携方法を提供
    * トランジションフック中はJSで直接DOM操作を実行可能
    * Velocity.jsのようなサードパーティ製JSライブラリと連携
* この章では、リストのトランザクションを取り扱う

## 単一要素/コンポーネントのトランジション
* Vueはtransitionラッパーコンポーネントを提供している
* 以下の要素やコンポーネントにentering/leavingトランジション
    * 条件付き描画（`v-if`）
    * 条件付き表示（`v-show`）
    * 動的コンポーネント
    * コンポーネントルートノード
* transitionコンポーネントにラップされた要素が挿入あるいは削除されるときに次の処理が行われる
    * 対象の要素にアニメーションが行われるかどうか自動的に察知
        * ない場合は、Vue側でトランジション用のクラスを付与
    * トランジションコンポーネントがJSフックを提供している場合、発火させる
    * CSSアニメーションもJSフックも提供されない場合、DOM操作を次のフレームで実行する

### トランジションクラス
* enter/leaveアクションの際にVueが自動的に付与するクラスが6つある
* v-enter
    * enterの開始時
* v-enter-active
    * enterの実行中
    * 要素挿入前に追加され、トランジションが終了すると削除される
    * トランジションの開始の期間やアクションからの遅延、それからイージングカーブに使用可能
* v-enter-to
    * 2.1.8以降
    * enterの終了状態なので、v-enterと入れ替わりになる
    * 要素追加後の1フレームで実行される
    * 追加されたってことは需要があったってことなんだろうが……JSのフックじゃあるまいし？
* v-leave
    * トランジションの終了開始時の1フレームで実行される
    * これもどう使うんだろうか……
* v-leave-active
    * leaveの実行中
    * 概要はだいたいv-enter-activeと同じ
* v-leave-to
    * 2.1.8以降
    * これも、終了の瞬間の1フレーム
    * やはり使いみちはわからない
* 各クラスはトランジション名が先頭につく
    * トランジション名：`transition`要素の`name`属性値
        * nameがhogeならhoge-enterのようになる
    * nameがない場合は、v-xxx
* イージングカーブとは、透過度などの変化の速さの変遷

### CSSトランジション
* トランジションを実現する最もシンプルな方法
* とりあえず例を見よう

### CSSアニメーション
* CSSアニメーションはトランジション同様に適用される
    * そもそもトランジションとアニメーションは違うのである
* トランジションとアニメーションの違い
    * トランジション
        * なんらかのイベントをフックにして起動する
        * ループしない
        * 戻るアニメーションは自動で付く
    * アニメーション
        * ウィンドウ読み込み即実行が可能
        * ループ可能
        * keyframesで細かい設定が可能
* v-enterは要素の挿入直後には消えないが、animationedイベント時には削除される
* これも例を見よう

### カスタムトランジションクラス
* transition要素の属性として、カスタムトランジションクラスを指定できる
    * なんでわざわざこんなことができるようにしてあるかと言えば、アニメーションライブラリとの併用のため
    * というわけで、標準では使わないほうが良いです
* 該当する属性は以下
    * enter-class
    * enter-active-class
    * enter-to-class
    * leave-class
    * leave-active-class
    * leave-to-class

